# CLO Management System - Production Environment Configuration
# ðŸ”’ IMPORTANT: This file contains production configuration templates
# Replace placeholder values with actual production credentials and settings

# Environment Configuration
ENVIRONMENT=production
DEBUG=false
API_HOST=0.0.0.0
API_PORT=8000

# Security Configuration - CRITICAL: Change these values for production
SECRET_KEY=${PRODUCTION_SECRET_KEY}  # Generate a secure random key
ACCESS_TOKEN_EXPIRE_MINUTES=60
JWT_ALGORITHM=RS256
JWT_PRIVATE_KEY_PATH=${JWT_PRIVATE_KEY_PATH}
JWT_PUBLIC_KEY_PATH=${JWT_PUBLIC_KEY_PATH}

# Database Configuration - Production PostgreSQL
DATABASE_URL=${PRODUCTION_DATABASE_URL}
POSTGRES_HOST=${PRODUCTION_POSTGRES_HOST}
POSTGRES_PORT=5432
POSTGRES_USER=${PRODUCTION_POSTGRES_USER}
POSTGRES_PASSWORD=${PRODUCTION_POSTGRES_PASSWORD}
POSTGRES_DB=${PRODUCTION_POSTGRES_DB}
POSTGRES_SSL_MODE=require

# Redis Configuration - Production Cache
REDIS_URL=${PRODUCTION_REDIS_URL}
REDIS_HOST=${PRODUCTION_REDIS_HOST}
REDIS_PORT=6380
REDIS_PASSWORD=${PRODUCTION_REDIS_PASSWORD}
REDIS_SSL=true

# CORS Configuration - Production Origins Only
CORS_ORIGINS=["https://your-production-domain.com","https://www.your-production-domain.com"]
CORS_ALLOW_CREDENTIALS=true
CORS_MAX_AGE=3600

# SSL/TLS Configuration
SSL_CERT_PATH=${SSL_CERTIFICATE_PATH}
SSL_KEY_PATH=${SSL_PRIVATE_KEY_PATH}
SSL_CA_PATH=${SSL_CA_BUNDLE_PATH}
FORCE_HTTPS=true

# Application Scaling
MAX_WORKERS=4
WORKER_TIMEOUT=120
KEEP_ALIVE=2
MAX_REQUESTS=1000
MAX_REQUESTS_JITTER=100

# CLO System Configuration
MAX_ASSETS=100000
MAX_CORRELATIONS=10000000
DEFAULT_DAY_COUNT=Actual360
DEFAULT_BUSINESS_CALENDAR=UnitedStates.NYSE

# Logging Configuration
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE_PATH=/var/log/clo-system/app.log
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=10

# Azure Integration (if using Azure services)
AZURE_STORAGE_ACCOUNT=${AZURE_STORAGE_ACCOUNT}
AZURE_STORAGE_KEY=${AZURE_STORAGE_KEY}
AZURE_BLOB_CONTAINER=clo-documents
AZURE_KEY_VAULT_URL=${AZURE_KEY_VAULT_URL}

# Rate Limiting Configuration
RATE_LIMIT_STRICT=30/minute
RATE_LIMIT_MODERATE=300/minute  
RATE_LIMIT_LENIENT=3000/minute
RATE_LIMIT_AUTH=10/minute

# Monitoring & Health Checks
HEALTH_CHECK_TIMEOUT=30
METRICS_EXPORT_INTERVAL=60
PROMETHEUS_METRICS_ENABLED=true
PROMETHEUS_PORT=9090

# Email Configuration (for notifications)
SMTP_HOST=${PRODUCTION_SMTP_HOST}
SMTP_PORT=587
SMTP_USERNAME=${PRODUCTION_SMTP_USERNAME}
SMTP_PASSWORD=${PRODUCTION_SMTP_PASSWORD}
SMTP_TLS=true
FROM_EMAIL=noreply@your-production-domain.com

# File Storage Configuration
UPLOAD_MAX_SIZE=100MB
ALLOWED_FILE_TYPES=["pdf","xlsx","csv","docx","txt"]
STORAGE_BACKEND=azure_blob  # or local, s3
LOCAL_STORAGE_PATH=/var/lib/clo-system/uploads

# Cache Configuration
CACHE_DEFAULT_TIMEOUT=3600
CACHE_LONG_TIMEOUT=86400
CORRELATION_CACHE_TIMEOUT=21600  # 6 hours for correlation matrices

# Database Connection Pool
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# QuantLib Configuration
QUANTLIB_DATE_TODAY_AUTO=true
QUANTLIB_THREAD_SAFETY=true

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_ACCOUNT=${BACKUP_STORAGE_ACCOUNT}

# Security Headers
SECURITY_HEADERS_ENABLED=true
HSTS_MAX_AGE=31536000
CSP_ENABLED=true
X_FRAME_OPTIONS=DENY

# Performance Monitoring
PERFORMANCE_MONITORING_ENABLED=true
SLOW_QUERY_THRESHOLD=1000  # milliseconds
REQUEST_TIMEOUT=30  # seconds

# Feature Flags
FEATURE_EXCEL_INTEGRATION=true
FEATURE_REAL_TIME_UPDATES=true
FEATURE_ADVANCED_ANALYTICS=true
FEATURE_API_DOCUMENTATION=true